<div class="container">
  <app-navbar></app-navbar>
  <!-- Triangle section -->
  <div class="triangle">
    <!-- Logo -->
    <img src="/assets/logo.svg" alt="Logo" class="logo" />

    <!-- Content Below Logo -->
    <div class="d-flex flex-column align-items-center">
      <!-- Title -->
      <h1 class="title text-center">WYBIERZ SWÓJ DOM!</h1>

  <!-- HOUSES CHANGE -->
      <div class="row justify-content-center align-items-center mt-4 g-3 houses">
        <!-- CALMA House -->
        <div
          class="col-6 col-md-4 text-center house"
          [class.active]="selectedHouse() === 'CALMA'"
          [class.faded]="selectedHouse() !== 'CALMA'"
          (click)="toggleHouse('CALMA')"
        >
          <img
            [src]="houses.CALMA.image"
            alt="CALMA House"
            class="img-fluid house-img"
          />
        </div>

        <!-- GIOIA House -->
        <div
          class="col-6 col-md-4 text-center house"
          [class.active]="selectedHouse() === 'GIOIA'"
          [class.faded]="selectedHouse() !== 'GIOIA'"
          (click)="toggleHouse('GIOIA')"
        >
          <img
            [src]="houses.GIOIA.image"
            alt="GIOIA House"
            class="img-fluid house-img"
          />
        </div>
      </div>
    </div>
  </div>


<!-- DRAWINGS CHANGE -->
<div class="floor-plan-section px-2">
  <div class="row justify-content-center align-items-center position-relative">
    <!-- Current Drawing Image -->
    <div class="col-12 col-md-7 text-center">
      <div class="image-wrapper">
        <img
          [src]="houses[selectedHouse()].drawing[currentDrawingIndex()]"
          alt="Drawing"
          class="img-fluid floor-plan-img"
        />
      </div>
    </div>
    <!-- Navigation Arrow -->
    <div class="col-2 text-center align-self-center">
      <button class="btn btn-link text-success" (click)="nextDrawing()">
        <i class="bi bi-arrow-right-circle" style="font-size: 2rem"></i>
      </button>
    </div>
  </div>

  <!-- Info List -->
  <div class="row justify-content-end mt-1">
    <div class="col-12 col-md-3 text-end info-list">
      <ul class="list-unstyled">
        <li *ngFor="let item of houses[selectedHouse()].info">
          {{ item }}
        </li>
      </ul>
    </div>
  </div>

  <!-- RENDERS CHANGE -->

<!-- Render Section -->
<div class="render-section px-2 mt-4 renders">
  <div class="row justify-content-center align-items-center">
    <!-- Current Render Image -->
    <div class="col-12 col-md-8 text-center">
      <div class="render-img-wrapper">
        <img
          [src]="houses[selectedHouse()].renders[currentRenderIndex()]"
          alt="Render"
          class="render-img"
        />
      </div>
    </div>
    <!-- Navigation and Text -->
    <div class="col-12 col-md-4 d-flex justify-content-center align-items-center mt-3 mt-md-0">
      <button class="btn btn-link text-success me-2" (click)="nextRender()">
        <i class="bi bi-arrow-right-circle" style="font-size: 2rem"></i>
      </button>
      <span class="render-text text-success fs-5">
        {{ currentRenderText() }}
      </span>
    </div>
  </div>
</div>


<!-- FACADE IMAGES SECTION -->

<div class="facade-section container mt-4">
  <div class="row g-2 justify-content-center">
    <!-- Facade Images -->
    <div
      *ngFor="let facade of houses[selectedHouse()].facades; let i = index"
      class="col-6 text-center d-flex justify-content-center align-items-center"
    >
      <img
        [src]="facade"
        alt="Facade Image {{ i + 1 }}"
        class="facade-img img-fluid"
        (click)="openModal(facade)"
      />
    </div>
  </div>
</div>    

<!-- Modal for Enlarged Image -->
<div
  class="modal fade"
  id="facadeModal"
  tabindex="-1"
  aria-labelledby="facadeModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body text-center">
        <img [src]="selectedFacade()" alt="Enlarged Facade" class="img-fluid" />
      </div>
    </div>
  </div>
</div>

</div>

<!-- BROWN ICONS SECTION -->

<section>
  <div class="row bg-custom  p-5 text-center">
    <p></p>
    <div class="col-md-4 my-5">
      <img src="/assets/middle_section_hand_with_seed_img.png" alt="hand_with_seed" class="mb-3">
      <p class="white-text bodoni-moda mb-1">ZRÓWNOWAŻONA ARCHITEKTURA</p>
      <p class="white-text bodoni-moda mb-1">WSPIERAJĄCA BIORÓŻNORODNOŚĆ!</p>
      <div class="icon-line my-2"></div>
    </div>
    <div class="col-md-4 my-5">
      <img src="/assets/middle_section_trees_img.png" alt="trees" class="mb-3">
      <p class="white-text bodoni-moda mb-1">DOM, KTÓRY PRZYNOSI KORZYŚĆ</p>
      <p class="white-text bodoni-moda mb-1">NATURZE I TOBIE!</p>
      <div class="icon-line my-2"></div>
    </div>
    <div class="col-md-4 my-5">  
      <img src="/assets/middle_section_wood_works_img.png" alt="wood_works" class="mb-3">
      <p class="white-text bodoni-moda mb-1">DOSKONAŁA OCHRONA NATURY</p>
      <p class="white-text bodoni-moda mb-1">PRZY BUDOWIE TWOJEGO DOMU!</p>
      <div class="icon-line my-2"></div>
    </div>
    <p></p>
    <p></p>
  </div> 
</section>

